<html>
  <head><script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app225.us.archive.org';v.server_ms=376;archive_analytics.send_pageview({});});</script>
<script type="text/javascript" src="https://web-static.archive.org/_static/js/bundle-playback.js?v=t1Bf4PY_" charset="utf-8"></script>
<script type="text/javascript" src="https://web-static.archive.org/_static/js/wombat.js?v=txqj7nKC" charset="utf-8"></script>
<script>window.RufflePlayer=window.RufflePlayer||{};window.RufflePlayer.config={"autoplay":"on","unmuteOverlay":"hidden"};</script>
<script type="text/javascript" src="https://web-static.archive.org/_static/js/ruffle/ruffle.js"></script>
<script type="text/javascript">
  __wm.init("http://web.archive.org/web");
  __wm.wombat("http://dan.egnor.name:80/xml2/examples","20160509232645","http://web.archive.org/","web","https://web-static.archive.org/_static/",
	      "1462836405");
</script>
<link rel="stylesheet" type="text/css" href="https://web-static.archive.org/_static/css/banner-styles.css?v=S1zqJCYt" />
<link rel="stylesheet" type="text/css" href="https://web-static.archive.org/_static/css/iconochive.css?v=qtvMKcIJ" />
<!-- End Wayback Rewrite JS Include -->

    <title>xml2: Examples</title>
    <link rel="stylesheet" type="text/css" href="/web/20160509232645cs_/http://dan.egnor.name/xml2/style.css">
  </head>
  <body><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script>__wm.rw(0);</script>
<div id="wm-ipp-base" lang="en" style="display:none;direction:ltr;">
<div id="wm-ipp" style="position:fixed;left:0;top:0;right:0;">
<div id="donato" style="position:relative;width:100%;">
  <div id="donato-base">
    <iframe id="donato-if" src="https://archive.org/includes/donate.php?as_page=1&amp;platform=wb&amp;referer=http%3A//web.archive.org/web/20160509232645/http%3A//dan.egnor.name/xml2/examples"
	    scrolling="no" frameborder="0" style="width:100%; height:100%">
    </iframe>
  </div>
</div><div id="wm-ipp-inside">
  <div id="wm-toolbar" style="position:relative;display:flex;flex-flow:row nowrap;justify-content:space-between;">
    <div id="wm-logo" style="/*width:110px;*/padding-top:12px;">
      <a href="/web/" title="Wayback Machine home page"><img src="https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-200.png" srcset="https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-100.png, https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-150.png 1.5x, https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-200.png 2x" alt="Wayback Machine" style="width:100px" border="0" /></a>
    </div>
    <div class="c" style="display:flex;flex-flow:column nowrap;justify-content:space-between;flex:1;">
      <form class="u" style="display:flex;flex-direction:row;flex-wrap:nowrap;" target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="http://dan.egnor.name/xml2/examples" onfocus="this.focus();this.select();" style="flex:1;"/><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20160509232645" /><input type="submit" value="Go" />
      </form>
      <div style="display:flex;flex-flow:row nowrap;align-items:flex-end;">
                <div class="s" id="wm-nav-captures" style="flex:1;">
          </div>
        <div class="k">
          <a href="" id="wm-graph-anchor">
            <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
              <canvas id="wm-sparkline-canvas" width="725" height="27" border="0"></canvas>
            </div>
          </a>
        </div>
      </div>
    </div>
    <div class="n">
      <table>
        <tbody>
          <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
          <tr class="m">
            <td class="b" nowrap="nowrap"><a href="http://web.archive.org/web/20160407104744/http://dan.egnor.name:80/xml2/examples" title="07 Apr 2016"><strong>Apr</strong></a></td>
            <td class="c" id="displayMonthEl" title="You are here: 23:26:45 May 09, 2016">MAY</td>
            <td class="f" nowrap="nowrap"><a href="http://web.archive.org/web/20160610050416/http://dan.egnor.name:80/xml2/examples" title="10 Jun 2016"><strong>Jun</strong></a></td>
          </tr>
          <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
          <tr class="d">
            <td class="b" nowrap="nowrap"><a href="http://web.archive.org/web/20160407104744/http://dan.egnor.name:80/xml2/examples" title="10:47:44 Apr 07, 2016"><img src="https://web-static.archive.org/_static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a></td>
            <td class="c" id="displayDayEl" style="width:34px;font-size:22px;white-space:nowrap;" title="You are here: 23:26:45 May 09, 2016">09</td>
            <td class="f" nowrap="nowrap"><a href="http://web.archive.org/web/20160610050416/http://dan.egnor.name:80/xml2/examples" title="05:04:16 Jun 10, 2016"><img src="https://web-static.archive.org/_static/images/toolbar/wm_tb_nxt_on.png" alt="Next capture" width="14" height="16" border="0" /></a></td>
          </tr>
          <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
          <tr class="y">
            <td class="b" nowrap="nowrap"><a href="http://web.archive.org/web/20150320072341/http://dan.egnor.name:80/xml2/examples" title="20 Mar 2015"><strong>2015</strong></a></td>
            <td class="c" id="displayYearEl" title="You are here: 23:26:45 May 09, 2016">2016</td>
            <td class="f" nowrap="nowrap"><a href="http://web.archive.org/web/20170629232520/http://dan.egnor.name:80/xml2/examples" title="29 Jun 2017"><strong>2017</strong></a></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="r" style="display:flex;flex-flow:column nowrap;align-items:flex-end;justify-content:space-between;">
      <div id="wm-btns" style="text-align:right;height:23px;">
                <span class="xxs">
          <div id="wm-save-snapshot-success">success</div>
          <div id="wm-save-snapshot-fail">fail</div>
          <a id="wm-save-snapshot-open" href="#" title="Share via My Web Archive" >
            <span class="iconochive-web"></span>
          </a>
          <a href="https://archive.org/account/login.php" title="Sign In" id="wm-sign-in">
            <span class="iconochive-person"></span>
          </a>
          <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
        </span>
                <a class="xxs" href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
        <a id="wm-tb-close" href="#close" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
      </div>
      <div id="wm-share" class="xxs">
        <a href="/web/20160509232645/http://web.archive.org/screenshot/http://dan.egnor.name/xml2/examples"
           id="wm-screenshot"
           title="screenshot">
          <span class="wm-icon-screen-shot"></span>
        </a>
        <a href="#" id="wm-video" title="video">
          <span class="iconochive-movies"></span>
        </a>
        <a id="wm-share-facebook" href="#" data-url="http://web.archive.org/web/20160509232645/http://dan.egnor.name:80/xml2/examples" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
        <a id="wm-share-twitter" href="#" data-url="http://web.archive.org/web/20160509232645/http://dan.egnor.name:80/xml2/examples" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
      </div>
      <div style="padding-right:2px;text-align:right;white-space:nowrap;">
        <a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span class="xxs" style="font-size:80%;">About this capture</span></a>
      </div>
    </div>
  </div>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
        <div id="wm-capinfo-notice" source="api"></div>
                <div id="wm-capinfo-collected-by">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
    <div style="padding:3px;position:relative" id="wm-collected-by-content">
            <div style="display:inline-block;vertical-align:top;width:50%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls);"></span>
		Organization: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a></div>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
    </div>
    </div>
    <div id="wm-capinfo-timestamps">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
    <div>
      <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
      <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="https://web-static.archive.org/_static/images/loading.gif" alt="loading" /></div>
    </div>
    </div>
  </div></div></div></div><div id="wm-ipp-print">The Wayback Machine - http://web.archive.org/web/20160509232645/http://dan.egnor.name:80/xml2/examples</div>
<script type="text/javascript">//<![CDATA[
__wm.bt(725,27,25,2,"web","http://dan.egnor.name/xml2/examples","20160509232645",1996,"https://web-static.archive.org/_static/",["https://web-static.archive.org/_static/css/banner-styles.css?v=S1zqJCYt","https://web-static.archive.org/_static/css/iconochive.css?v=qtvMKcIJ"], false);
  __wm.rw(1);
//]]></script>
<!-- END WAYBACK TOOLBAR INSERT -->
 
<h1>Examples</h1>

<p>Common GNU tools (<em>wget</em>, <em>grep</em>, ...) are assumed.</p>

<h2>XML</h2>

<h4>Use the <a href="http://web.archive.org/web/20160509232645/http://slashdot.org/">Slashdot</a> backend.</h4>

<pre>
% <b>wget -q -O - http://slashdot.org/slashdot.xml | xml2</b>
/backslash/@xmlns:backslash=http://slashdot.org/backslash.dtd
/backslash/story/title=More on Athlon Overclocking
/backslash/story/url=http://slashdot.org/articles/00/03/04/1441248.shtml
/backslash/story/time=2000-03-05 03:40:47
/backslash/story/author=Hemos
/backslash/story/department=better-faster-strong
/backslash/story/topic=amd
/backslash/story/comments=56
/backslash/story/section=articles
/backslash/story/image=topicamd.gif
/backslash/story
/backslash/story/title=New Atari Jaguar Game Running $1,225 on eBay
/backslash/story/url=http://slashdot.org/articles/00/03/02/1430232.shtml
<b>...</b>
</pre>

<h4>Now, just the headlines.</h4>

<pre>
% <b>wget -q -O - http://slashdot.org/slashdot.xml | xml2 | 
  grep story/title= | cut -d= -f 2-</b>
More on Athlon Overclocking
New Atari Jaguar Game Running $1,225 on eBay
AT&T;'s Korn Shell Source Code Released
TheBench.org: Community Cartooning
OpenGL for Palm OS Environment
Banner Ads on Your Cell Phone
Burning Money on Open Source
Embedded OpenBSD Running the Stallion ePipe
Bezos Responds to Tim O'Reilly's Open Letter
Update on 'Blame Canada' and the Oscars
</pre>

<h4>How big is the Red Hat 6.1 libxml RPM?</h4>

(For variety, we use <em>awk</em> rather than <em>grep</em> and <em>cut</em>.)

<pre>
% <b>wget -q -O - http://rpmfind.net/linux/RDF/redhat/6.1/i386/libxml-1.4.0-1.i386.rdf | 
  xml2 | awk -F= '/RPM:Size/ {print $2}'</b>
704399
</pre>

<h4>What is the melting point of silicon?</h4>

More awkitude.  Don't let your CPU get hotter than this!

<pre>
% <b>wget -q -O - http://metalab.unc.edu/xml/examples/periodic_table/allelements.xml | 
  xml2 | awk '/ATOM\/NAME=Silicon/,!/ATOM\//' | 
         awk -F\= '/MELTING_POINT/ {print $2}'</b>
Kelvin
1683
</pre>

<em>(1683ºK is 2570ºF, by the way.)</em>

<h2>HTML</h2>

<h4>Fetch the <a href="http://web.archive.org/web/20160509232645/http://slashdot.org/">Slashdot</a> news page.</h4>

You'll probably see some warnings.  (Slashdot has some of the worst HTML I've
ever seen...)

<pre>
% <b>wget -q -O - http://slashdot.org/ | html2</b>
/html/head/title=Slashdot:News for Nerds. Stuff that Matters.
/html/head=
/html=
/html/body/@bgcolor=#000000
/html/body/@text=#000000
/html/body/@link=#006666
/html/body/@vlink=#000000
/html/body=
/html/body/center/a/@href=http://209.207.224.220/redir.pl?1789
/html/body/center/a/@target=_top
<b>...</b>
</pre>

<h4>Find all the links.</h4>

If you find the warnings distracting, redirect the standard error of 
<em>html2</em> to /dev/null.

<pre>
% <b>wget -q -O - http://slashdot.org/ | html2 | grep 'a/@href' | 
  cut -d\= -f 2- | sort | uniq</b>
/about.shtml
/advertising.shtml
/article.pl?sid=99/03/31/0137221
/article.pl?sid=99/04/25/1438249
/article.pl?sid=99/04/27/0310247
/article.pl?sid=99/04/29/0124247
/article.pl?sid=99/08/24/1327256&mode;=thread
/awards.shtml
/cheesyportal.shtml
/code.shtml
<b>...</b>
</pre>

<h4>Change some colors.</h4>

This pipeline uses both <em>html2</em> and <em>2html</em> to effect a 
round-trip.  In the middle, <em>sed</em> applies a transformation, turning
the background of every colored table on the page yellow.  Yuck, huh?

<pre>
% <b>wget -q -O - http://slashdot.org/ | 
  html2 | sed 's|table/@bgcolor=\(.*\)$|table/@bgcolor=yellow|' | 
  2html &gt; slashdot.html</b>
% <b>netscape slashdot.html</b>
</pre>

<h4>Strip JavaScript from a 
<a href="http://web.archive.org/web/20160509232645/http://www.geocities.com/SiliconValley/Peaks/5957/xml.html">Geocities 
home page</a>.</h4>

Geocities uses JavaScript to create an annoying little brand popup in the 
corner of their members' home pages.  Let's delete it.

<pre>
% <b>wget -q -O - http://www.geocities.com/SiliconValley/Peaks/5957/xml.html | 
  html2 | grep -vi '^[^=]*/script[/=]' | 
  2html &gt; xml.html</b>
% <b>netscape xml.html</b>
</pre>

  </body>
</html>
<hr>
<a href="">XML/Unix Processing Tools</a>
<!--
     FILE ARCHIVED ON 23:26:45 May 09, 2016 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 06:50:08 Mar 19, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  exclusion.robots: 1.711 (7)
  exclusion.robots.policy: 1.594 (7)
  cdx.remote: 0.681 (7)
  esindex: 0.096 (7)
  LoadShardBlock: 542.959 (24)
  PetaboxLoader3.resolve: 169.128 (4)
  PetaboxLoader3.datanode: 349.351 (25)
  load_resource: 77.637
-->